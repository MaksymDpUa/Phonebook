"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[133],{8133:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(1413),r=n(2791),s=n(9434),i=n(9439),o="Modal_overlay__baCSF",l="Modal_modal__EqaZW",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},u=n(3661),d=n(208),m="Form_form__U6AKY",h="Form_inputLable__v-aCi",p="Form_inputField__6v0hi",f="Form_submitBtn__Bxicd",b=n(184),v=function(e){var t=e.initialName,n=void 0===t?"":t,a=e.initialNumber,o=void 0===a?"":a,l=e.id,v=e.closeModal,_=(0,r.useState)(n),x=(0,i.Z)(_,2),g=x[0],N=x[1],j=(0,r.useState)(o),C=(0,i.Z)(j,2),y=C[0],w=C[1],k=c(),F=c(),A=(0,s.I0)(),I=(0,s.v9)(u.K2),L=function(e){switch(e.target.name){case"name":N(e.target.value);break;case"number":w(e.target.value);break;default:console.log("Something wrong")}};return(0,b.jsxs)("form",{className:m,onSubmit:function(e){if(e.preventDefault(),function(e){return I.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(g))alert("".concat(g," is already in your contacts"));else{var t={id:l,user:{name:g,number:y}};A((0,d.Tk)(t)),v(),N(""),w("")}},children:[(0,b.jsx)("label",{htmlFor:k,className:h,children:"Name"}),(0,b.jsx)("input",{id:k,className:p,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:L,value:g}),(0,b.jsx)("label",{htmlFor:F,className:h,children:"Number"}),(0,b.jsx)("input",{id:F,type:"tel",className:p,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:y,onChange:L}),(0,b.jsx)("button",{type:"submit",className:f,children:"Update contact"})]})},_=function(e){var t=e.closeModal,n=e.initialName,a=e.initialNumber,s=e.id;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,b.jsx)("div",{className:o,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,b.jsx)(v,{textBtn:"Update contact",className:l,initialName:n,initialNumber:a,closeModal:t,id:s})})},x="ContactListItem_contactInfo__NkIrP",g="ContactListItem_deleteBtn__roUYm",N="ContactListItem_updateBtn__sTRXQ",j="ContactListItem_contactName__kCRjB",C=function(e){var t=e.name,n=e.number,a=e.id,o=e.deletingContactId,l=(0,s.I0)(),c=(0,r.useState)(!1),u=(0,i.Z)(c,2),m=u[0],h=u[1];return(0,b.jsxs)("li",{children:[(0,b.jsxs)("p",{className:x,children:[(0,b.jsx)("span",{className:j,children:t}),": ",n]}),(0,b.jsx)("button",{type:"button",className:N,onClick:function(){h(!0)},children:"Update"}),(0,b.jsx)("button",{disabled:o===a,type:"button",className:g,onClick:function(){return l((0,d.GK)(a))},children:"Delete"}),m&&(0,b.jsx)(_,{closeModal:function(){h(!1)},initialName:t,initialNumber:n,id:a})]})},y=n(6895),w=n(8627),k=function(){var e=(0,s.v9)(u.K2),t=(0,s.v9)(y.zK),n=(0,s.v9)(u.by),i=(0,s.v9)(u.Vc),o=(0,s.v9)(u._1),l=(0,s.I0)(),c=(0,w.a)().isLoggedIn;(0,r.useEffect)((function(){c&&l((0,d.yF)())}),[l,c]);var m=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,b.jsxs)("ul",{children:[i&&(0,b.jsx)("div",{children:"Is loading..."}),n&&(0,b.jsx)("div",{children:"Something go wrong:( Please, try letter"}),null===m||void 0===m?void 0:m.map((function(e){return(0,b.jsx)(C,(0,a.Z)({deletingContactId:o},e),e.name)}))]})},F="Filter_inputFilter__8QMOp",A="Filter_lableFilter__73gJe",I=function(){var e=c(),t=(0,s.v9)(y.zK),n=(0,s.I0)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("label",{htmlFor:e,className:A,children:"Find your contact"}),(0,b.jsx)("input",{className:F,name:"filter",value:t,onChange:function(e){return n((0,y.M6)(e.target.value))},id:e})]})},L=function(){var e=(0,r.useState)(""),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,r.useState)(""),l=(0,i.Z)(o,2),v=l[0],_=l[1],x=c(),g=c(),N=(0,s.I0)(),j=(0,s.v9)(u.K2),C=function(e){switch(e.target.name){case"name":a(e.target.value);break;case"number":_(e.target.value);break;default:console.log("Something wrong")}};return(0,b.jsxs)("form",{className:m,onSubmit:function(e){if(e.preventDefault(),function(e){return j.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(n))alert("".concat(n," is already in your contacts"));else{var t={name:n,number:v};N((0,d.uK)(t)),a(""),_("")}},children:[(0,b.jsx)("label",{htmlFor:x,className:h,children:"Name"}),(0,b.jsx)("input",{id:x,className:p,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:C,value:n}),(0,b.jsx)("label",{htmlFor:g,className:h,children:"Number"}),(0,b.jsx)("input",{id:g,type:"tel",className:p,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:v,onChange:C}),(0,b.jsx)("button",{type:"submit",className:f,children:"Add contact"})]})},S="App_container__cu9yO",Z=function(){return(0,b.jsxs)("div",{className:S,children:[(0,b.jsx)("h1",{children:"Phonebook"}),(0,b.jsx)(L,{textBtn:"Add contact"}),(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(I,{name:"filter"}),(0,b.jsx)(k,{})]})}}}]);
//# sourceMappingURL=133.4c622edb.chunk.js.map