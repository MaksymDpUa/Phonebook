"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[402],{2402:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var a=n(1413),s=n(2791),r=n(9434),c=n(9439),i="Modal_overlay__baCSF",o="Modal_modal__EqaZW",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},d=n(3661),u=n(208),m="Form_form__U6AKY",h="Form_inputLable__v-aCi",_="Form_inputField__6v0hi",f="Form_submitBtn__Bxicd",p=n(184),v=function(e){var t=e.initialName,n=void 0===t?"":t,a=e.initialNumber,i=void 0===a?"":a,o=e.id,v=e.closeModal,N=(0,s.useState)(n),b=(0,c.Z)(N,2),x=b[0],j=b[1],g=(0,s.useState)(i),C=(0,c.Z)(g,2),w=C[0],y=C[1],k=l(),F=l(),I=(0,r.I0)(),B=(0,r.v9)(d.K2),L=function(e){switch(e.target.name){case"name":j(e.target.value);break;case"number":y(e.target.value);break;default:console.log("Something wrong")}};return(0,p.jsxs)("form",{className:m,onSubmit:function(e){if(e.preventDefault(),function(e){return B.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(x))alert("".concat(x," is already in your contacts"));else{var t={id:o,user:{name:x,number:w}};I((0,u.Tk)(t)),v(),j(""),y("")}},children:[(0,p.jsx)("label",{htmlFor:k,className:h,children:"Name"}),(0,p.jsx)("input",{id:k,className:_,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:L,value:x}),(0,p.jsx)("label",{htmlFor:F,className:h,children:"Number"}),(0,p.jsx)("input",{id:F,type:"tel",className:_,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:w,onChange:L}),(0,p.jsx)("button",{type:"submit",className:f,children:"Update contact"})]})},N=function(e){var t=e.closeModal,n=e.initialName,a=e.initialNumber,r=e.id;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,p.jsx)("div",{className:i,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,p.jsx)(v,{textBtn:"Update contact",className:o,initialName:n,initialNumber:a,closeModal:t,id:r})})},b={contactsItem:"ContactListItem_contactsItem__Jxkos",contactInfo:"ContactListItem_contactInfo__NkIrP",deleteBtn:"ContactListItem_deleteBtn__roUYm",updateBtn:"ContactListItem_updateBtn__sTRXQ",contactName:"ContactListItem_contactName__kCRjB"},x=function(e){var t=e.name,n=e.number,a=e.id,i=e.deletingContactId,o=(0,r.I0)(),l=(0,s.useState)(!1),d=(0,c.Z)(l,2),m=d[0],h=d[1];return(0,p.jsxs)("li",{className:b.contactsItem,children:[(0,p.jsxs)("p",{className:b.contactInfo,children:[(0,p.jsx)("span",{className:b.contactName,children:t}),": ",n]}),(0,p.jsxs)("div",{className:b.buttonBlock,children:[" ",(0,p.jsx)("button",{type:"button",className:b.updateBtn,onClick:function(){h(!0)},children:"Update"}),(0,p.jsx)("button",{disabled:i===a,type:"button",className:b.deleteBtn,onClick:function(){return o((0,u.GK)(a))},children:"Delete"})]}),m&&(0,p.jsx)(N,{closeModal:function(){h(!1)},initialName:t,initialNumber:n,id:a})]})},j=n(6895),g=n(8627),C="ContactList_list__csErn",w=function(){var e=(0,r.v9)(d.K2),t=(0,r.v9)(j.zK),n=(0,r.v9)(d.by),c=(0,r.v9)(d.Vc),i=(0,r.v9)(d._1),o=(0,r.I0)(),l=(0,g.a)().isLoggedIn;(0,s.useEffect)((function(){l&&o((0,u.yF)())}),[o,l]);var m=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,p.jsxs)("ul",{className:C,children:[c&&(0,p.jsx)("div",{children:"Is loading..."}),n&&(0,p.jsx)("div",{children:"Something go wrong:( Please, try letter"}),null===m||void 0===m?void 0:m.map((function(e){return(0,p.jsx)(x,(0,a.Z)({deletingContactId:i},e),e.name)}))]})},y="Filter_container__L5eml",k="Filter_inputFilter__8QMOp",F="Filter_lableFilter__73gJe",I=function(){var e=l(),t=(0,r.v9)(j.zK),n=(0,r.I0)();return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("label",{htmlFor:e,className:F,children:"Find your contact"}),(0,p.jsx)("input",{className:k,name:"filter",value:t,onChange:function(e){return n((0,j.M6)(e.target.value))},id:e})]})},B=function(){var e=(0,s.useState)(""),t=(0,c.Z)(e,2),n=t[0],a=t[1],i=(0,s.useState)(""),o=(0,c.Z)(i,2),v=o[0],N=o[1],b=l(),x=l(),j=(0,r.I0)(),g=(0,r.v9)(d.K2),C=function(e){switch(e.target.name){case"name":a(e.target.value);break;case"number":N(e.target.value);break;default:console.log("Something wrong")}};return(0,p.jsxs)("form",{className:m,onSubmit:function(e){if(e.preventDefault(),function(e){return g.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(n))alert("".concat(n," is already in your contacts"));else{var t={name:n,number:v};j((0,u.uK)(t)),a(""),N("")}},children:[(0,p.jsx)("label",{htmlFor:b,className:h,children:"Name"}),(0,p.jsx)("input",{id:b,className:_,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:C,value:n}),(0,p.jsx)("label",{htmlFor:x,className:h,children:"Number"}),(0,p.jsx)("input",{id:x,type:"tel",className:_,name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:v,onChange:C}),(0,p.jsx)("button",{type:"submit",className:f,children:"Add contact"})]})},L={section:"ContactsSection_section__dw-YT",title:"ContactsSection_title__ZwzOi",container:"ContactsSection_container__Q23dN",contactsBlock:"ContactsSection_contactsBlock__BVBhc"},S=function(){return(0,p.jsxs)("section",{className:L.section,children:[(0,p.jsx)("h1",{className:L.title,children:"Phonebook"}),(0,p.jsx)("h2",{className:L.title,children:"Contacts"}),(0,p.jsxs)("div",{className:L.container,children:[(0,p.jsxs)("div",{className:L.contactsBlock,children:[(0,p.jsx)(I,{name:"filter"}),(0,p.jsx)(w,{})]}),(0,p.jsx)(B,{className:L.addForm,textBtn:"Add contact"})]})]})},A=function(){return(0,p.jsx)(S,{})}}}]);
//# sourceMappingURL=402.5eff4c25.chunk.js.map